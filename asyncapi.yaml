asyncapi: 2.6.0
info:
    title: News API
    version: "1.0.0"
    description: The news API allows you to subscribe to real-time news using a filter.
servers:
    public:
        url: nwapi.encypherstudio.com
        protocol: wss
channels:
    /v1/ws/news:
        subscribe:
            description: |
                Subscribe to real-time news using a filter. The filter and apiKey must be url encoded and set as query parameters on subscription as such:
                
                /v1/ws/news?apikey={API_KEY}&filter={FILTER}.
                  - API_KEY is the api key assigned to you by the administrators.
                  - FILTER is an object of type FilterNews (see schemas below).
            message:
                $ref: '#/components/messages/News'
        bindings:
            query parameters:
                apiKey:
                    type: string
                    description: Api key assigned to user
                filter:
                    $ref: '#/components/schemas/FilterNews'
components:
    messages:
        News:
            payload:
                type: array
                items:
                    $ref: '#/components/schemas/News'
            description: Real-time news sent to subscribed WSS client.
    schemas:
        News:
            type: object
            properties:
                id:
                    description: |
                        Sequential id generated by Newsware
                    example: 24
                    type: integer
                headline:
                    description: Headline of the news
                    example: |
                        Press Release: Capgemini to acquire FCC division of Exiger, to expand its Financial Crime Compliance advisory, analytics and managed services capabilities
                    type: string
                body:
                    description: Body of the news
                    example: |
                        <?DOCTYPE html?><html><head><title>Press Release: Capgemini to acquire FCC division of Exiger, to expand its Financial Crime Compliance advisory, analytics and managed services capabilities</title></head><body><div><h1>Press Release: Capgemini to acquire FCC division of Exiger, to expand its Financial Crime Compliance advisory, analytics and managed services capabilities</h1><p class="newswire-article-time">September 8, 2023 06:30:00 UTC</p></div><div><div><p>Media relations:</p><p>Sam Connatty</p><p>Tel.: +44 (0)370 904 3601</p><p>https://www.globenewswire.com/Tracker?data=gC9eNIS97ojwrII3F5DBubYJmHo0vP3wqy-iWwztFoC3nohKKt4LXYYMd2AGicdR-2T8Vfm7AdAukinHOOXjIcIOV0m3OyMCr3hrdS8_VY9YvCf11Dce8th5an6-2C-g sam.connatty@capgemini.com</p><p>Investor relations:</p><p>Vincent Biraud</p><p>Tel.: +33 1 47 54 50 87</p> With its strong 55-year heritage and deep industry expertise, Capgemini is trusted by its clients to address the entire breadth of their business needs, from strategy and design to operations, fueled by the fast evolving and innovative world of cloud, data, AI, connectivity, software, digital engineering and platforms. The Group reported in 2022 global revenues of EUR22 billion.</p><p>Get The Future You Want | www.capgemini.com</p><p>Attachment</p><pre>-- 09_08_Capgemini to acquire FCC division of Exiger &#xA;      https://ml-eu.globenewswire.com/Resource/Download/718ae574-00df-4c2a-90e4-e8b4a0268867</pre><p>(END) Dow Jones Newswires</p><p>September 08, 2023 02:30 ET (06:30 GMT)</p></div></div><div><div><strong>s.DJ CAP.FR CGEMY</strong></div><div><strong>Article id:  | Exchange:  | Region:</strong></div><div><strong>Industry Codes:  | Category Codes:</strong></div></div></body></html>
                    type: string
                tickers:
                    type: array
                    items:
                        type: string
                    description: A list of tickers related to the news
                    example: [ APPL, HSBC ]
                source:
                    type: string
                    description: Source of the news
                    enum:
                        - DJ
                        - AR
                        - PZ
                        - PN
                        - BW
                        - SEC
                    example: SEC
                publicationTime:
                    type: string
                    description: Time of publication
                    example: 2023-09-12T03:30:00Z
                receivedTime:
                    type: string
                    description: Time the news was received by Newsware
                    example: 2023-09-12T03:30:02.192731316Z
                creationTime:
                    type: string
                    description: Time the news was indexed into the Newsware database
                    example: 2023-09-12T03:30:02.351817973Z
                ciks:
                    type: array
                    items:
                        type: integer
                    description: (Only valid for SEC filings) CIKs associated to the SEC filing
                    example: [ 1375793, 1692705 ]
                link:
                    type: string
                    description: (Only valid for SEC filings) Official SEC link to filing
                    example: https://www.sec.gov/Archives/edgar/data/1692705/000110465923099095/0001104659-23-099095-index.htm
        FilterNews:
            type: object
            description: |
                Filter for news. Properties are mutually exclusive, only one of "and", "or" or "text" can be set.
                
                Example, search for news that contains "bitcoin" in the headline AND don't contain "scam" in the body:
                  - { "and": [ { "text": "bitcoin", "searchHeadline": "true" }, { text: "bull run", "searchBody": "true", "ignore": "true" } ] }
                
                
                Example, search for news that contain either "bitcoin" AND "bull run", OR "dollar", in the headline:
                  - { "or": [ {"and": [ { "text": "bitcoin", "searchHeadline": "true" }, { "text": "bullrun", "searchHeadline": "true"  } ] }, { "text": "dollar", "searchHeadline": "true"  } ] }
            
            properties:
                and:
                    type: array
                    description: "A list of queries that wil be joined by an \"and\" condition. It can contain a {text: ...} filter, or nested conditions in the form of {and: ...} or {or: ...}"
                    items:
                        $ref: '#/components/schemas/FilterNews'
                    example: [ { text: "btc" }, { and: [ { text: "bitcoin" }, { text: "bull run" } ] } ]
                or:
                    type: array
                    description: "A list of queries that wil be joined by an \"or\" condition. It can contain a {text: ...} filter, or nested conditions in the form of {and: ...} or {or: ...}"
                    items:
                        $ref: '#/components/schemas/FilterNews'
                    example: [ { text: "btc" }, { and: [ { text: "bitcoin" }, { text: "bull run" } ] } ]
                text:
                    type: object
                    properties:
                        text:
                            type: string
                            description: Text to look for in the news records
                            example: bitcoin
                        searchBody:
                            type: boolean
                            description: Whether to search for the text in the body or not
                            example: true
                        searchHeadline:
                            type: boolean
                            description: Whether to search for the text in the headline or not
                            example: true
                        ignore:
                            type: boolean
                            description: Whether to ignore news that contain the text
                            example: false