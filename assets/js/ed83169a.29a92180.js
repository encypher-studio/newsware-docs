"use strict";(self.webpackChunknewsware_clients_documentation=self.webpackChunknewsware_clients_documentation||[]).push([[777],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),f=a,m=u["".concat(s,".").concat(f)]||u[f]||d[f]||i;return n?r.createElement(m,o(o({ref:t},p),{},{components:n})):r.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},1474:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:2},o="Text query",l={unversionedId:"websocket-api/filter/text",id:"websocket-api/filter/text",title:"Text query",description:'A "text" query receives a text and optional options on where and how to look for it.',source:"@site/docs/websocket-api/filter/text.md",sourceDirName:"websocket-api/filter",slug:"/websocket-api/filter/text",permalink:"/websocket-api/filter/text",draft:!1,editUrl:"https://github.com/encypher-studio/newsware_clients_documentation/tree/main/docs/websocket-api/filter/text.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Filter",permalink:"/websocket-api/filter/"},next:{title:"Multiple queries",permalink:"/websocket-api/filter/multiple-queries"}},s={},c=[{value:"Definition",id:"definition",level:2},{value:"Usage",id:"usage",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"text-query"},"Text query"),(0,a.kt)("p",null,'A "text" query receives a text and optional options on where and how to look for it.'),(0,a.kt)("h2",{id:"definition"},"Definition"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"export interface TextOptions {\n    searchBody?: boolean // defaults to true\n    searchHeadline?: boolean // defaults to true\n    ignore?: boolean // defaults to false\n}\n")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Field"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Definition"),(0,a.kt)("th",{parentName:"tr",align:null},"Default value"),(0,a.kt)("th",{parentName:"tr",align:null},"Required"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"searchHeadline"),(0,a.kt)("td",{parentName:"tr",align:"center"},"If true, the text will be searched in the headline, if false, the headline will be skipped during the search."),(0,a.kt)("td",{parentName:"tr",align:null},"True"),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"searchBody"),(0,a.kt)("td",{parentName:"tr",align:"center"},"If true, the text will be searched in the body of the news, if false, the body will be skipped during the search."),(0,a.kt)("td",{parentName:"tr",align:null},"True"),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"ignore"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Whether to ignore matches. If true, if a match is found then that record will be ignored and not sent to the WS connection. For example, if you choose to ignore the text \u201cbitcoin\u201d, then no news that mention bitcoin will be received."),(0,a.kt)("td",{parentName:"tr",align:null},"False"),(0,a.kt)("td",{parentName:"tr",align:null})))),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("p",null,'This query will retrieve headlines that mention "bitcoin", but ignore them if the body mentions "scam":'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'import {text, News, Api} from "newsware";\n\nconst api = new Api(apiKey)\napi.subscribe(\n    {\n        query: and(\n            text("bitcoin", {\n                searchBody: false,\n                searchHeadline: true,\n                ignore: false\n            }),\n            text("scam", {\n                searchBody: true,\n                searchHeadline: false,\n                ignore: true\n            })\n        )\n    },\n    (news: News) => {\n        // Do anything with the filtered news\n    }\n)\n')))}d.isMDXComponent=!0}}]);